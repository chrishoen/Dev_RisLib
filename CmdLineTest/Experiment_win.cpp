//******************************************************************************
//******************************************************************************
//******************************************************************************

#include "stdafx.h"
#include <conio.h>

#include "risCmdLineFile.h"
#include "risPortableCalls.h"
#include "risSerialSettings.h"

#define  _EXPERIMENT_CPP_
#include "Experiment.h"


//******************************************************************************
//******************************************************************************
//******************************************************************************
// Constructor.

Experiment::Experiment()
{
   mMode = 1;
}

//******************************************************************************
//******************************************************************************
//******************************************************************************
// Test .

void Experiment::doRun1()
{
   printf("doRun1*****************************************BEGIN\n");

   while (true)
   {
      // Read first character.
      int tChar = getch();
      printf("GETCH %c\n", (unsigned char)tChar);
      // Not a Digit.
      ungetch(tChar);

      // Test if digit.
      if (tChar == '0')
      {
         printf("DIGIT\n");
         continue;
      }

      // Read from console input.
      char tString2[cMaxStringSize];
      tString2[0] = cMaxStringSize;
      char* tString1 = cgets(tString2);

      // Remove cr/lf at end of line.
      my_trimCRLF(tString1);

      if (tString1)
      {
         if (strcmp(tString1, "x") == 0) break;
      }

      printf("CMD %s\n", tString1);
   }

   printf("doRun1*****************************************END\n");
}

//******************************************************************************
//******************************************************************************
//******************************************************************************
// Test .

void Experiment::doRun2()
{
   printf("doRun2*****************************************BEGIN\n");

   while (true)
   {
      printf("getch\n");
      int tChar = getch();
      printf("CHAR %d-\n", tChar);
      if (tChar == 'x') break;
   }

   printf("doRun2*****************************************END\n");
}

//******************************************************************************
//******************************************************************************
//******************************************************************************
