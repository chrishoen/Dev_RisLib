/*==============================================================================
==============================================================================*/

//******************************************************************************
//******************************************************************************
//******************************************************************************
#include "stdafx.h"

#include "risSystemCalls.h"
#include "risThreadsThreads.h"

namespace Ris
{
namespace Net
{
   
//******************************************************************************
//******************************************************************************
//******************************************************************************
// Wait for the network to come up by attempting to ping google.
// Return true if successful.

bool doWaitForNetwork()
{
   bool tSuccess = false;
   for (int i = 0; i < 20; i++)
   {
      int tRet = Ris::doSystemCommand("ping -c 1 72.217.10.100");
      if (tRet == 0)
      {
         TS::print(0, "doWaitForNetwork PASS");
         tSuccess = true;
         break;
      }
      else
      {
         TS::print(0, "doWaitForNetwork FAIL %d", tRet);
         Ris::Threads::threadSleep(1000);
         break;
      }
   }

   return tSuccess;
}

//******************************************************************************
//******************************************************************************
//******************************************************************************
// Execute a system command. return zero if successful.

//******************************************************************************
//******************************************************************************
//******************************************************************************
}//namespace
}//namespace

