/*==============================================================================
==============================================================================*/

//******************************************************************************
//******************************************************************************
//******************************************************************************
#include "stdafx.h"

#include "risSystemCalls.h"
#include "risThreadsThreads.h"

namespace Ris
{
namespace Net
{
   
//******************************************************************************
//******************************************************************************
//******************************************************************************
// Wait for the network to come up by attempting to ping google.
// Return true if successful.

bool doWaitForNetwork()
{
   bool tSuccess = false;
   for (int i = 0; i < 100; i++)
   {
      int tRet = Ris::doSystemCommand("ping -c 1 72.217.3.100");
      if (tRet == 0)
      {
         printf("doWaitForNetwork PASS\n");
         tSuccess = true;
         break;
      }
      else
      {
         printf("doWaitForNetwork FAIL %d\n", tRet);
         Ris::Threads::threadSleep(1000);
      }
   }

   return tSuccess;
}

//******************************************************************************
//******************************************************************************
//******************************************************************************
// Execute a system command. return zero if successful.

//******************************************************************************
//******************************************************************************
//******************************************************************************
}//namespace
}//namespace

