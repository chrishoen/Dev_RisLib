#pragma once

/*==============================================================================
Time since program start in seconds.
==============================================================================*/

#include "risStatistics.h"

//*****************************************************************************
//*****************************************************************************
//*****************************************************************************

#include <time.h>

//*****************************************************************************
//*****************************************************************************
//*****************************************************************************

namespace Ris
{

//*****************************************************************************
//*****************************************************************************
//*****************************************************************************

// Read current time and subtract program start time.
// This returns the current program time in seconds.
double getCurrentProgramTime();

//*****************************************************************************
//*****************************************************************************
//*****************************************************************************

//******************************************************************************
//******************************************************************************
//******************************************************************************
// Time marker that uses program time.

class ProgramTimeMarker
{
public:
   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   // Start and stop times.
   double mTimeAtStartUS;
   double mTimeAtStopUS;

   // Time that has elapsed from start to stop.
   double mTimeDifferenceUS;

   // True if a start has occurred.
   bool mStartFlag;

   // Statistics that are calculated for measured time interval.
   Ris::PeriodicStatistics mStatistics;
   int mChangeCount;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Constuctor.
   ProgramTimeMarker();
   void initialize(int aWindowSize);

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Start/stop the time measurement.
   void doStart();
   void doStop();

};

//*****************************************************************************
//*****************************************************************************
//*****************************************************************************
}//namespace

