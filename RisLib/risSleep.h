#pragma once

/*==============================================================================
Sleep functions.
==============================================================================*/

//******************************************************************************
//******************************************************************************
//******************************************************************************

#include <random>

//******************************************************************************
//******************************************************************************
//******************************************************************************

namespace Ris
{

//******************************************************************************
//******************************************************************************
//******************************************************************************
// Sleep functions.

// Sleep milliseconds.
void sleepMs(int aTimeMs);

// Sleep microseconds.
void sleepUs(int aTimeUs);

//******************************************************************************
//******************************************************************************
//******************************************************************************
// This class provides a function that sleeps for a random time. 

class  RandomSleepUs
{
public:

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   // Timer interval range, microseconds. These provide the bounds for a
   // uniform random number generator that generates a random sleep interval.
   int mSleepUs1;
   int mSleepUs2;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   // Random numbers.
   std::mt19937 mRandomGenerator;
   std::uniform_int_distribution<> mRandomDistribution;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Constructor.
   RandomSleepUs();
   RandomSleepUs(int aSleepUs1, int aSleepUs2);
   void initialize(int aSleepUs1, int aSleepUs2);

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Sleep for a time that is generated by a random number that has 
   // bounds SleepUs1..SleepUs2.
   void doSleep();
};

//******************************************************************************
//******************************************************************************
//******************************************************************************
// This class provides a function that sleeps for a random time. 

class  RandomSleepMs
{
public:

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   // Timer interval range, microseconds. These provide the bounds for a
   // uniform random number generator that generates a random sleep interval.
   int mSleepMs1;
   int mSleepMs2;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   // Random numbers.
   std::mt19937 mRandomGenerator;
   std::uniform_int_distribution<> mRandomDistribution;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Constructor.
   RandomSleepMs();
   RandomSleepMs(int aSleepMs1, int aSleepMs2);
   void initialize(int aSleepMs1, int aSleepMs2);

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Sleep for a time that is generated by a random number that has 
   // bounds SleepMs1..SleepMs2.
   void doSleep();
};

//******************************************************************************
//******************************************************************************
//******************************************************************************
}//namespace


