#pragma once

/*==============================================================================
==============================================================================*/

//******************************************************************************
//******************************************************************************
//******************************************************************************


namespace PX
{
//******************************************************************************
//******************************************************************************
//******************************************************************************
// This is a gcode model. 

class Model
{
public:

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Constants.

   static const int cDirectionNone = 0;
   static const int cDirectionUp = 1;
   static const int cDirectionDown = -1;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   // If true then enable modificatios.
   bool mEnableFlag;

   // Adjustment for z direction changes.
   double mAdjustZ;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   // If true then first.
   bool mFirstFlag;

   // If true then a direction change happened.
   bool mDirectionChangeFlag;

   // Direction.
   int mDirection;
   int mLastDirection;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Constructor.
   Model();

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Modify a gcode.
   void doModify(char* aString);
};

//******************************************************************************
//******************************************************************************
//******************************************************************************
// Global instance.

#ifdef _PXMODEL_CPP_
          Model gModel;
#else
   extern Model gModel;
#endif

//******************************************************************************
//******************************************************************************
//******************************************************************************
}//namespace
